1
00:00:00,600 --> 00:00:02,802
Halo! Pada modul sebelumnya, kita belajar

2
00:00:02,869 --> 00:00:05,105
cara menambahkan parameter ke App Intent

3
00:00:05,171 --> 00:00:06,939
untuk membuatnya dapat dikustomisasi.

4
00:00:07,273 --> 00:00:09,409
Kita juga melihat cara menggunakan parameter ini

5
00:00:09,476 --> 00:00:12,412
dengan Shortcuts, Siri, dan widget.

6
00:00:13,079 --> 00:00:15,682
Sejauh ini, kita hanya menggunakan tipe primitif

7
00:00:15,749 --> 00:00:18,418
sebagai parameter, yang membatasi kontrol

8
00:00:18,485 --> 00:00:20,320
dan membuat interaksi bahasa alami,

9
00:00:20,820 --> 00:00:22,022
seperti kalimat lengkap untuk permintaan Siri, kurang efektif.

10
00:00:22,022 --> 00:00:24,523
seperti kalimat lengkap untuk permintaan Siri, kurang efektif.

11
00:00:26,007 --> 00:00:28,395
Hai, nama saya Sergio dan kita akan melihat cara

12
00:00:28,461 --> 00:00:29,529
untuk mengatasi batasan ini menggunakan App Entity.

13
00:00:29,529 --> 00:00:31,898
untuk mengatasi batasan ini menggunakan App Entity.

14
00:00:34,033 --> 00:00:36,703
App Entity adalah sebuah konsep dimana aplikasi Anda

15
00:00:36,770 --> 00:00:38,905
mengekspos sesuatu ke sistem App Intent.

16
00:00:39,639 --> 00:00:41,808
Ini adalah abstraksi kuat yang memungkinkan

17
00:00:41,875 --> 00:00:44,811
data kustom dan dinamis untuk digunakan di

18
00:00:44,878 --> 00:00:46,312
Shortcuts dan widget.

19
00:00:47,947 --> 00:00:51,217
Mari kita lihat "MenuItem" sebagai contoh

20
00:00:51,284 --> 00:00:52,886
suatu entitas yang dapat diekspos oleh aplikasi kita.

21
00:00:53,620 --> 00:00:57,357
Berikut MenuItemEntity.swift kita

22
00:00:58,258 --> 00:01:00,827
Untuk dapat digunakan sebagai entitas, tipe tersebut harus

23
00:01:00,894 --> 00:01:03,329
sesuai dengan protokol AppEntity.

24
00:01:04,330 --> 00:01:05,932
Mari kita soroti elemen-elemen utamanya.

25
00:01:07,000 --> 00:01:08,468
ID adalah sebuah identitas unik untuk entitas ini.

26
00:01:08,468 --> 00:01:10,403
ID adalah sebuah identitas unik untuk entitas ini.

27
00:01:12,205 --> 00:01:14,541
Properti nama kita membuat nama

28
00:01:14,607 --> 00:01:17,076
tersedia untuk digunakan oleh App Intent

29
00:01:17,143 --> 00:01:18,211
langsung dalam frasa.

30
00:01:19,579 --> 00:01:21,981
displayRepresentation mengontrol bagaimana

31
00:01:22,048 --> 00:01:23,683
entitas tersebut muncul kepada pengguna.

32
00:01:24,484 --> 00:01:26,685
Di sini kita hanya menggunakan nama.

33
00:01:27,620 --> 00:01:30,457
"typeDisplayRepresentation" adalah

34
00:01:30,523 --> 00:01:32,292
string yang menghadap pengguna yang

35
00:01:32,358 --> 00:01:33,993
menggambarkan jenis entitas.

36
00:01:34,727 --> 00:01:36,796
Kami mendefinisikannya sebagai produk.

37
00:01:37,997 --> 00:01:40,500
Dan akhirnya, inisialisasi memungkinkan kita

38
00:01:40,567 --> 00:01:43,937
mudah mengkonversi dari model MenuItem

39
00:01:44,003 --> 00:01:45,772
ke struktur MenuItemEntity kita.

40
00:01:47,006 --> 00:01:49,375
Tapi kita masih kehilangan mekanisme pencarian, defaultQuery.

41
00:01:49,375 --> 00:01:51,344
Tapi kita masih kehilangan mekanisme pencarian, defaultQuery.

42
00:01:52,545 --> 00:01:54,514
Mari kita terapkan kueri MenuItem,

43
00:01:54,881 --> 00:01:56,483
yang bertanggung jawab untuk

44
00:01:56,549 --> 00:01:58,718
mencari dan menyarankan item.

45
00:01:59,619 --> 00:02:01,855
Struktur ini mengikuti protokol EntityStringQuery

46
00:02:01,855 --> 00:02:03,423
Struktur ini mengikuti protokol EntityStringQuery

47
00:02:04,123 --> 00:02:05,758
Mari kita lihat lebih dalam.

48
00:02:06,726 --> 00:02:07,927
Entitas untuk

49
00:02:08,795 --> 00:02:10,697
Mengambil entitas berdasarkan ID mereka,

50
00:02:10,763 --> 00:02:13,900
dibutuhkan oleh semua kueri.

51
00:02:16,002 --> 00:02:18,138
Pencocokan entitas memungkinkan

52
00:02:18,204 --> 00:02:20,140
mencari berdasarkan rangkaian teks.

53
00:02:20,673 --> 00:02:22,642
Dalam kasus kita, kita mencari

54
00:02:22,709 --> 00:02:24,677
nama produk dalam model kita.

55
00:02:26,312 --> 00:02:28,681
Entitas yang disarankan mengembalikan daftar default,

56
00:02:28,748 --> 00:02:31,851
seperti favorit adalah penjual terbanyak,

57
00:02:32,318 --> 00:02:35,221
yang muncul sebagai saran pelengkapan otomatis.

58
00:02:36,156 --> 00:02:38,024
Dan sekarang, mari kita gunakan entitas ini dalam Intent.

59
00:02:38,024 --> 00:02:40,560
Dan sekarang, mari kita gunakan entitas ini dalam Intent.

60
00:02:43,763 --> 00:02:45,899
Perubahan utama di sini adalah menggunakan

61
00:02:45,965 --> 00:02:48,768
MenuItemEntity daripada menggunakan string mentah

62
00:02:48,835 --> 00:02:51,337
dalam atribut parameter.

63
00:02:52,505 --> 00:02:55,575
Kemudian, dalam fungsi perform,

64
00:02:55,642 --> 00:02:58,344
kita menggunakan entitas ini untuk mengambil model data sebenarnya

65
00:02:58,411 --> 00:03:00,013
dari sistem kita.

66
00:03:00,947 --> 00:03:03,016
Sekarang, untuk membuat saran tersebut berhasil

67
00:03:03,082 --> 00:03:05,885
secara dinamis, kita harus memberi tahu sistem

68
00:03:05,952 --> 00:03:07,053
kapan pun mereka berubah.

69
00:03:09,389 --> 00:03:12,559
Mari kita lakukan ini dalam pengaturan aplikasi menggunakan

70
00:03:12,625 --> 00:03:15,428
fungsi parameter updateAppShortcuts.

71
00:03:18,598 --> 00:03:19,566
Dan selesai!

72
00:03:20,200 --> 00:03:22,635
Sekarang, kita memiliki Intent yang berfungsi sepenuhnya yang

73
00:03:22,702 --> 00:03:25,572
menggunakan entitas nyata dari model aplikasi kami,

74
00:03:25,972 --> 00:03:28,675
memungkinkan integrasi Siri yang lebih baik,

75
00:03:28,741 --> 00:03:30,243
saran widget, dan interaksi shortcut yang lebih alami.

76
00:03:30,243 --> 00:03:32,178
saran widget, dan interaksi shortcut yang lebih alami.

77
00:03:32,679 --> 00:03:34,647
Pada video berikutnya, kita akan menjelajahi caranya

78
00:03:34,714 --> 00:03:36,583
untuk membuat dan menggunakan shortcut ini,

79
00:03:36,916 --> 00:03:38,685
baik secara manual maupun terprogram.

80
00:03:39,118 --> 00:03:39,652
Sampai jumpa di sana!
