1
00:00:00,433 --> 00:00:02,635
Hi! In this video, we are going to create

2
00:00:02,702 --> 00:00:04,637
our very first App Intent.

3
00:00:05,839 --> 00:00:08,108
This will be our first step as we begin

4
00:00:08,174 --> 00:00:10,377
working with App Intents in our project.

5
00:00:11,344 --> 00:00:12,278
We'll take a look at the

6
00:00:12,345 --> 00:00:13,980
basic structure of an intent,

7
00:00:14,381 --> 00:00:16,316
what kinds of results it can return,

8
00:00:16,583 --> 00:00:18,084
and how to use it to open

9
00:00:18,151 --> 00:00:19,786
a specific screen in our app.

10
00:00:20,286 --> 00:00:22,322
At the end, we will test our first intent

11
00:00:22,522 --> 00:00:24,090
and see it working in practice.

12
00:00:27,227 --> 00:00:29,195
Now let's take a look at the code.

13
00:00:36,403 --> 00:00:37,637
This is where we

14
00:00:37,704 --> 00:00:39,639
create all our App Intents.

15
00:00:40,607 --> 00:00:41,674
What you see here is the

16
00:00:41,741 --> 00:00:43,309
basic template of an intent.

17
00:00:46,413 --> 00:00:48,748
At the top, we need to import

18
00:00:48,815 --> 00:00:50,050
the AppIntents framework.

19
00:00:51,951 --> 00:00:53,486
Then, every intent must

20
00:00:53,553 --> 00:00:54,854
have at least three things.

21
00:00:55,355 --> 00:00:58,291
A title, a description

22
00:00:58,358 --> 00:01:00,293
and a perform() method, which is where

23
00:01:00,360 --> 00:01:02,228
we define what the intent should do.

24
00:01:03,396 --> 00:01:06,166
Our first intent will be used to open

25
00:01:06,232 --> 00:01:07,801
the favorites tab in the app.

26
00:01:08,435 --> 00:01:11,004
When it runs, it will launch the app

27
00:01:11,070 --> 00:01:12,672
and switch to the favorite screen.

28
00:01:13,706 --> 00:01:15,909
To make that happen, we need to

29
00:01:15,975 --> 00:01:16,409
set the property

30
00:01:16,476 --> 00:01:19,145
"OpenAppWhenRun" to true.

31
00:01:19,746 --> 00:01:21,815
So, the system knows it should open

32
00:01:21,881 --> 00:01:23,450
the app when the intent is triggered.

33
00:01:25,051 --> 00:01:27,554
Inside the perform() method,

34
00:01:27,620 --> 00:01:28,788
we add the navigation logic

35
00:01:28,855 --> 00:01:30,290
to select the favorites tab.

36
00:01:31,224 --> 00:01:33,359
Since we don't need to return any data

37
00:01:33,426 --> 00:01:36,596
here, we just call .result at the end.

38
00:01:38,832 --> 00:01:40,233
To make the navigation work,

39
00:01:40,667 --> 00:01:42,268
we are using @Dependency.

40
00:01:43,303 --> 00:01:46,072
which is a way to access the app's shared

41
00:01:46,139 --> 00:01:48,675
model directly inside our intent.

42
00:01:50,076 --> 00:01:52,879
It lets us control part of the app,

43
00:01:52,946 --> 00:01:54,147
like which tab is selected,

44
00:01:54,581 --> 00:01:56,483
without testing anything manually.

45
00:01:58,218 --> 00:02:00,820
Here, at the coffee app Swift file,

46
00:02:00,887 --> 00:02:02,555
you can see where the module is registered,

47
00:02:03,189 --> 00:02:04,524
so the intent knows how

48
00:02:04,591 --> 00:02:06,025
to access it when needed.

49
00:02:11,197 --> 00:02:13,233
Now let's test our intent in the

50
00:02:13,299 --> 00:02:17,203
shortcuts app. I'll create a new shortcut

51
00:02:17,270 --> 00:02:18,271
and look for the

52
00:02:18,338 --> 00:02:20,039
actions from the coffee app.

53
00:02:21,508 --> 00:02:23,009
Here we can see the Open Favorites

54
00:02:23,076 --> 00:02:25,044
intent we just created,

55
00:02:25,445 --> 00:02:27,614
along with the title and description

56
00:02:27,680 --> 00:02:28,948
we defined in the code.

57
00:02:30,550 --> 00:02:33,653
Let's add it to the shortcut and run it.

58
00:02:34,888 --> 00:02:37,524
The app should open and take us straight

59
00:02:37,590 --> 00:02:38,691
to the favorites tab.

60
00:02:41,427 --> 00:02:42,428
And that's it!

61
00:02:42,495 --> 00:02:44,564
Our first App Intent is working!

62
00:02:45,231 --> 00:02:47,600
This is the basic structure we use

63
00:02:47,667 --> 00:02:49,102
for any task you create.

64
00:02:49,669 --> 00:02:51,704
In the next videos, we explore other

65
00:02:51,771 --> 00:02:53,072
types of results that

66
00:02:53,139 --> 00:02:54,541
an intent can return,

67
00:02:54,674 --> 00:02:56,209
like values, dialogues, and views.

68
00:02:57,076 --> 00:02:58,177
Thanks for watching and

69
00:02:58,244 --> 00:02:59,679
I'll see you in the next video.

